<!DOCTYPE html>
<html lang="en" >
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">
	
    <title>Glowy Control Panel</title>
	
	<link rel="shortcut icon" type="image/x-icon" href="">
	
    <link rel="apple-touch-icon" sizes="60x60" href="images/ico/apple-icon-60.png">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="stylesheet" type="text/css" href="bscss/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="fonts/icomoon.css">
    <link rel="stylesheet" type="text/css" href="fonts/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" type="text/css" href="css/extensions/pace.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-extended.css">
    <link rel="stylesheet" type="text/css" href="css/app.css">
    <link rel="stylesheet" type="text/css" href="css/colors.css">
    <link rel="stylesheet" type="text/css" href="css/core/menu/menu-types/vertical-menu.css">
    <link rel="stylesheet" type="text/css" href="css/core/menu/menu-types/vertical-overlay-menu.css">
    <link rel="stylesheet" type="text/css" href="css/core/colors/palette-gradient.css">
	<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
	

  </head>
  <body data-open="click" data-menu="vertical-menu" data-col="2-columns" class="vertical-layout vertical-menu 2-columns">
      <!-- Navigation -->
    <nav class="navbar navbar-expand-xl navbar-light fixed-top" style="background-color: #00ccff;">
		<ul class="nav navbar-nav"> 
              <li class="nav-item hidden-sm-down"><a class="nav-link nav-menu-main menu-toggle hidden-xs text-white"><i class="icon-menu5">         </i></a></li>
              <li class="nav-item hidden-sm-down"><a href="#" class="nav-link nav-link-expand"><i class="ficon icon-expand2 text-white"></i></a></li>
            </ul>
      <div class="container">
        <a class="navbar-brand text-white" href="/">Glowy Panel</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link text-white" href="/">Home
                <span class="sr-only">(current)</span>
              </a>
            </li>
              <li class="dropdown dropdown-user nav-item"><a data-toggle="dropdown" class="nav-link text-white" id="who"></a>
                <div class="dropdown-menu dropdown-menu-right"><a href="#" class="dropdown-item"><i class="icon-head"></i> Edit Profile</a>
                  <div class="dropdown-divider"></div><a href="logout" class="dropdown-item"><i class="icon-power3"></i> Logout</a>
                </div>
              </li>
            <li class="nav-item">
              <a class="nav-link text-white" href="#">Services</a>
            </li>
          </ul>
        </div>
      </div>
	  <div class="header-navbar navbar navbar-with-menu navbar-fixed-top navbar-semi-light navbar-light" style="background-color: #33adff;"></div>
    </nav>

	

    <!-- main menu-->
    <div data-scroll-to-active="true" class="main-menu menu-fixed menu-light menu-accordion menu-shadow" style="background-color: #33adff;">
      <!-- main menu header-->
      <div class="main-menu-header">
      </div>
      <!-- / main menu header-->
	  
	  
      <!-- main menu content-->
      <div class="main-menu-content">
        <ul id="main-menu-navigation" data-menu="menu-navigation" class="navigation navigation-main">
          <li class="nav-item text-white" style="background-color: #66c2ff;"><a class="text-white" href="" style="background-color: #4db8ff;"><i class="icon-home3"></i><span data-i18n="nav.dash.main" class="menu-title text-white" >Servers</span></a>
            <ul class="menu-content" style="background-color: #66c2ff;">
              <li onClick="setserverID(1)" style="background-color: #66c2ff;"><a onClick="setserverID(1)" href="loader" data-i18n="nav.dash.main" class="menu-item text-white" style="background-color: #66c2ff;">server 1</a>
              </li>
              <li onClick="setserverID(2)" class="active" style="background-color: #66c2ff;"><a onClick="setserverID(2)" href="loader" data-i18n="nav.dash.main" class="menu-item text-white" style="background-color: #66c2ff;">server 2</a>
              </li>
            </ul>
          </li>
		  <li class="active" style="background-color: #66c2ff;"><a href="#" style="background-color: #4db8ff;"><i class="icon-paper text-white"></i><span class="menu-title text-white">Control</span></a>
          </li>
        </ul>
      </div>
    </div>
    <!-- / main menu-->

    <div class="app-content content container-fluid">
	  <div class="header-navbar navbar navbar-with-menu navbar-fixed-top"></div>

      <div class="content-wrapper">
        <div class="content-header row">
        </div>
        <div class="content-body"><!-- Statistics -->

		<table id="Control">
			
		</table>
		<footer class="footer footer-static fixed-bottom width: 1222;">
		<div class="row col-sm-6 fixed-center">
			<div class="form-group col-sm-6">
				<input id="cc" class="form-control input-lg" type="text" placeholder="Type commands here..."></input>
			</div>
			<div class="form-group col-sm-6">
				<button id="submit" class="btn btn-info">Send</button>
			</div>
		</div>
		<p>______</p>
		</footer>
        </div>
      </div>
    </div>
    <!-- ////////////////////////////////////////////////////////////////////////////-->


    <footer class="footer footer-static footer-light navbar-border fixed-bottom">
      <p class="clearfix text-muted text-sm-center mb-0 px-2"><span class="float-md-left d-xs-block d-md-inline-block">Copyright  &copy; 2017 <a href="/" target="_blank" class="text-bold-800 grey darken-2">Glowy panel </a></span></p>
    </footer>

     <!-- BEGIN VENDOR JS-->
    <script src="js/core/libraries/jquery.min.js" type="text/javascript"></script>
    <script src="js/ui/tether.min.js" type="text/javascript"></script>
    <script src="js/core/libraries/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/ui/perfect-scrollbar.jquery.min.js" type="text/javascript"></script>
    <script src="js/ui/unison.min.js" type="text/javascript"></script>
    <script src="js/ui/blockUI.min.js" type="text/javascript"></script>
    <script src="js/ui/jquery.matchHeight-min.js" type="text/javascript"></script>
    <script src="js/ui/screenfull.min.js" type="text/javascript"></script>
    <script src="js/extensions/pace.min.js" type="text/javascript"></script>
    <script src="js/charts/chart.min.js" type="text/javascript"></script>
    <script src="js/core/app-menu.js" type="text/javascript"></script>
    <script src="js/core/app.js" type="text/javascript"></script>
 
	<script>
		function checkCookie() {
			var username = getCookie("username");
			if (username == "") {
				window.location.href = 'login';
			}
		}
		checkCookie();
		
        //var ram = 256;
		var serverId = getCookie("serverID");
		var cookieName = document.cookie;
		var name = getCookie("username");
		document.getElementById("who").innerHTML = '<span class="glyphicon glyphicon-user"></span>' + name;
		var socket = io();
		this.socket = io.connect('http://localhost:8082');
		var submit = document.getElementById("submit");
		
		
		socket.emit('status', name, serverId);
		
		socket.on('statusON', function () {
			socket.emit('controlstartup', name, serverId);
		});
		
		submit.onclick = function () {
			var cc = document.getElementById("cc").value;
			socket.emit('command', name, serverId, cc);
			document.getElementById("cc").value = "";
		}
		
		socket.on('serveroutput', function (data) {
			var table = document.getElementById("Control");
			var row = table.insertRow(0);
			var outputcon = row.insertCell(0);
			outputcon.innerHTML = data;
			x = document.getElementById("Control").rows.length;
			if(x >= 41){
				document.getElementById("Control").deleteRow(41);
			}
		});
		
		function setserverID(ID){
			document.cookie = "serverID=" + ID + ";path=/";
			window.location.href = 'loader';
		}
		
		function setCookie(cname, cvalue, exdays) {
			var d = new Date();
			d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
			var expires = "expires=" + d.toUTCString();
			document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
		}

		function getCookie(Cookiename) {
			var name = Cookiename + "=";
			var ca = document.cookie.split(';');
			for (var i = 0; i < ca.length; i++) {
				var c = ca[i];
				while (c.charAt(0) == ' ') {
					c = c.substring(1);
				}
				if (c.indexOf(name) == 0) {
					return c.substring(name.length, c.length);
				}
			}
			return "";
		}
	</script>
  </body>
</html>